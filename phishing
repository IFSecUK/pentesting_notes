Phishing Overview
	Phishing is a broad topic that can seem intimidating at first. We are going to take a brief look at the simplest form of phishing: Attaching an exe to an email and having a user execute that file, granting us a reverse shell. This can be done using msfvenom to create the payload as well as with other tools along with msfvenom to obfuscate the payload.


Identifying Targets:
	Before we send out phishing emails we first need to identify our targets since we have a specific goal in mind. We want to target employees at Throwback Hacks. We can find employees from the contact list of the guest account that we compromised earlier when enumerating web servers we can also send emails from the guest account as a trusted email within the domain.
	
Staged And Stageless Payloads:
	Staged Payloads require a handler to catch the payload and send the appropriate response back to the server to trigger your reverse shell.
	Stageless Payloads do not require any specific handler. A reverse shell can be caught with a utility like netcat, socat, or many others.
	
Listing Payloads with Msfvenom:
	>msfvenom -l payloads | grep windows | tail -n 20 - listing last 20 windows payloads
	
	windows/x64/shell/reverse_tcp 	Spawn a piped command shell (staged). Connect back to the attacker
	Windows/x64/shell_reverse_tcp	Connect back to attacker and spawn a command shell

	There is a minor difference between the two, the top payloads is staged payload (as stated by the description), but, metasploit also has naming convention. The top payload has three slashes which indicate it's a staged payload. The bottom payload which is stageless has two slashes. Additionally, the bottom payload has two underscores, while the top payload only has one. 
	
	Note: All meterpreter payloads will require a handler no matter what.
	
	
Which Payload Where?
	So far, stageless payloads sound like the best payloads to use for any given task, right?

	Well, no. That's not always the case. Stageless payloads by design are larger because they contain everything required to land a reverse shell back on your box in a nice and neat style. This can be a disadvantage for several reasons (which are reasons that you would want to used a staged payload for).
	
	There are several reasons you might want to use a staged payload, for example.
		• You could use it when your're limited on space in a SEH Based Buffer Overflow, or Stack Based Buffer Overflow.
		• You could use it in conjunction with Anti-Virus evasion techniques to sleep for a given period of time to escape a sandbox and malware scans that might detect your payload. Afterwards, reach out to your Handler for the rest of the payload.
		• Additionally, you can also use Staged payloads to gain additional functionality within your shell (like Meterpreter) and is the biggest reason that you would want to use a Staged payload.

	Note: Even with some Stageless payloads, to get certain features (like Meterpreter) to work , you will need a Handler. If you're going to setup a Handler anyways, you might as well make it a Staged Payload, right?

Next two steps will be to generate a payload using msfvenom and setting up a handler in msfconsole.

Catching some Phish

Creating your Phishing Email:
	Creating an effective phishing email may appear daunting at first, however, we’ll see that this requires only a cursory understanding of social engineering and the basics of business email composition. Consider this, we have two goals with phishing attacks:

    1. Stay under our target’s radar such that the email does not come across as suspicious

    2. Prompt our target into action through either filling out some form (typically resulting in them providing us passwords) or through the execution of our payload.

    This requires us to write an email that has the following:
    	1. Correct grammar and punctuation
		2. Prompts the user to action
    	3. Setting a deadline for action
    	4. Makes sense within the business context

    Brief Example:
    	Hey everyone,


		We’re releasing an update for our note-taking software. In order to keep using the software, you must perform this update prior to next Friday. Please run the attached file to this email to complete this action.


		Thank you for your patience in this update.

		IT Support

	Note how we accomplished our goals in providing a situation wherein the email not only makes sense to our target but also prompts them into action with a set deadline.If you successfully created a payload and sent out a convincing enough email you may get lucky and an employee will click on your attachment and execute your payload.

